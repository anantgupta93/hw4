<%# app/views/places/index.html.erb %>

<% if flash[:notice] %>
  <div class="alert alert-success">
    <%= flash[:notice] %>
  </div>
<% end %>


<div class="mt-3">
  <h2>Places List</h2>
  <% if @places.present? %>
    <% @places.each do |place| %>
      <div class="card mb-3">
        <div class="card-body">
          <h5 class="card-title"><%= place.name %></h5>
          <% if place.user %>
            <h6 class="card-subtitle mb-2 text-muted">Created by: <%= place.user.username %></h6>
          <% else %>
            <h6 class="card-subtitle mb-2 text-muted">Created by: anonymous</h6>
          <% end %>
          <%# if you're using Active Storage for images %>
          <% if place.uploaded_image.attached? %>
            <%= image_tag place.uploaded_image, class: 'card-img-top' %>
          <% end %>
          <%= link_to 'Show', place_path(place), class: 'btn btn-primary' %>
        </div>
      </div>
    <% end %>
  <% else %>
    <p>No places available.</p>
  <% end %>
  <%= link_to 'Add New Place', new_place_path, class: 'btn btn-success' %>
</div>